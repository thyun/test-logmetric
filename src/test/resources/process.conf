{
	"input": {
		"type": "kafka",
		"broker": "127.0.0.1:2181",
		"topic": "access_log",
		"group": "my_group"
	},
	"process": [
		{
			"type": "match",
			"field": "log",
			"pattern": "%{COMBINED_ACCESS_LOG}"
		},
		{
			"type": "date",
			"field": "date",
			"pattern": "dd/MMM/yyyy:HH:mm:ss Z",
			"target": "@timestamp"
		},
		{
			"type": "metrics",
			"key": "host",
			"meter": [ "responseCode", "byteSent", "responseTime" ],
			"add_field": [ { "field": "type", "value": "access" } ]
		}
	],
	"output": {
		"type": "file",
		"path": "./logs/output-process.log"
	}
}
